(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3750:function(e,r,s){Promise.resolve().then(s.bind(s,3874))},3874:function(e,r,s){"use strict";s.d(r,{default:function(){return n}});var t=s(7437),a=s(2265),l=s(7648);function n(e){let{programs:r,initialCategory:s="",initialStage:n="",initialQuery:o=""}=e,[i,c]=(0,a.useState)(o),[d,u]=(0,a.useState)(s),[m,h]=(0,a.useState)(n),[p,x]=(0,a.useState)(!1),[g,f]=(0,a.useState)("provider"),v=[i.trim(),d,m,p?"iowa":""].filter(Boolean).length,b=(0,a.useMemo)(()=>{let e=new Set;return r.forEach(r=>(r.category||[]).forEach(r=>e.add(r))),Array.from(e).sort((e,r)=>e.localeCompare(r))},[r]),j=(0,a.useMemo)(()=>{let e=new Set;return r.forEach(r=>(r.stage||[]).forEach(r=>e.add(r))),Array.from(e).sort((e,r)=>e.localeCompare(r))},[r]),w=(0,a.useMemo)(()=>{let e=i.trim().toLowerCase(),s=r.filter(r=>(!d||!!(r.category||[]).includes(d))&&(!m||!!(r.stage||[]).includes(m))&&(!p||!!(r.geo||"").toLowerCase().includes("iowa"))&&(!e||!!"".concat(r.name," ").concat(r.provider," ").concat((r.category||[]).join(" ")," ").concat((r.stage||[]).join(" ")).toLowerCase().includes(e)));return"value"===g?s.sort((e,r)=>(r.valueUsdEst||0)-(e.valueUsdEst||0)):s.sort((e,r)=>(e.provider||"").localeCompare(r.provider||"")||e.name.localeCompare(r.name))},[r,i,d,m,p,g]);return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"rounded-3xl border bg-white/80 backdrop-blur p-4 shadow-sm",children:(0,t.jsxs)("div",{className:"grid gap-2 md:grid-cols-4",children:[(0,t.jsx)("input",{className:"w-full rounded-2xl border bg-white p-2.5 text-sm outline-none focus:ring-2 focus:ring-zinc-200",placeholder:"Search (name, provider, category...)",value:i,onChange:e=>c(e.target.value)}),(0,t.jsxs)("select",{className:"w-full rounded-2xl border bg-white p-2.5 text-sm outline-none focus:ring-2 focus:ring-zinc-200",value:d,onChange:e=>u(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"All categories"}),b.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("select",{className:"w-full rounded-2xl border bg-white p-2.5 text-sm outline-none focus:ring-2 focus:ring-zinc-200",value:m,onChange:e=>h(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"All stages"}),j.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("select",{className:"w-full rounded-2xl border bg-white p-2.5 text-sm outline-none focus:ring-2 focus:ring-zinc-200",value:g,onChange:e=>f(e.target.value),children:[(0,t.jsx)("option",{value:"provider",children:"Sort: Provider A→Z"}),(0,t.jsx)("option",{value:"value",children:"Sort: Value high→low"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm md:col-span-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:p,onChange:e=>x(e.target.checked)}),'Iowa-only (geo contains "Iowa")']}),(0,t.jsx)("button",{className:"rounded-2xl border bg-white px-3 py-2 text-sm hover:bg-zinc-50 md:col-span-2",onClick:()=>{c(""),u(""),h(""),x(!1),f("provider")},children:"Reset"})]})}),(0,t.jsxs)("div",{className:"text-sm opacity-80",children:["Showing ",(0,t.jsx)("span",{className:"font-medium",children:w.length})," programs",v>0&&(0,t.jsxs)("span",{className:"ml-2 rounded-full bg-zinc-100 px-2 py-0.5 text-xs text-zinc-600",children:[v," filter",v>1?"s":""," active"]})]}),0===w.length?(0,t.jsxs)("div",{className:"rounded-3xl border bg-white/80 p-8 text-center shadow-sm backdrop-blur",children:[(0,t.jsx)("div",{className:"text-lg font-medium",children:"No programs match these filters."}),(0,t.jsx)("p",{className:"mt-2 text-sm text-zinc-600",children:"Try broadening your search or reset filters to see all approved entries."}),(0,t.jsx)("button",{className:"mt-4 rounded-full border bg-white px-4 py-2 text-sm hover:bg-zinc-50",onClick:()=>{c(""),u(""),h(""),x(!1),f("provider")},children:"Reset all filters"})]}):(0,t.jsx)("div",{className:"grid gap-3",children:w.map(e=>(0,t.jsx)(l.default,{href:"/program/".concat(e.id),className:"block rounded-3xl border bg-white/80 backdrop-blur p-5 shadow-sm hover:bg-white",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.name||"Untitled Program"}),(0,t.jsx)("div",{className:"text-sm opacity-80",children:e.provider}),(0,t.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2 text-xs",children:[(e.category||[]).slice(0,4).map(e=>(0,t.jsx)("span",{className:"rounded-full bg-zinc-100 px-2.5 py-1 text-xs text-zinc-700",children:e},e)),e.requiresReferral&&(0,t.jsx)("span",{className:"rounded-full border px-2 py-1",children:"Referral"}),e.geo&&(0,t.jsx)("span",{className:"rounded-full border px-2 py-1",children:e.geo})]})]}),(0,t.jsx)("div",{className:"text-sm opacity-80 text-right",children:"number"==typeof e.valueUsdEst?"$".concat(e.valueUsdEst.toLocaleString()):""})]})},e.id))})]})}},7648:function(e,r,s){"use strict";s.d(r,{default:function(){return a.a}});var t=s(2972),a=s.n(t)}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=3750)}),_N_E=e.O()}]);